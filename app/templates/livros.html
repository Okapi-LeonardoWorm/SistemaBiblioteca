{% extends 'base.html' %}
{% block cssstyle %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
{% endblock %}
{% block pagetitle %}Livros{% endblock %}
{% block content %}
<div class="container mainDiv">
  <h1 class="BooksTitle">Livros</h1>
  
  <div class="container form">
    <form class="searchBooksForm" method="post" action="">
      {{ form.hidden_tag() }}
      <div class="form-group">
        {{ form.bookId.label(class="form-label") }}
        {{ form.bookId(class="form-control", size=32) }}
      </div>
      <div class="form-group">
        {{ form.bookName.label(class="form-label") }}
        {{ form.bookName(class="form-control", size=32) }}
      </div>
      <div class="form-group">
        {{ form.authorName.label(class="form-label") }}
        {{ form.authorName(class="form-control", size=32) }}
      </div>
      <div class="form-group">
        {{ form.publisherName.label(class="form-label") }}
        {{ form.publisherName(class="form-control", size=32) }}
      </div>
      <div class="form-group">
        {{ form.publishedDate.label(class="form-label") }}
        {{ form.publishedDate(class="form-control", size=32) }}
      </div>
      <div class="form-group">
        {{ form.acquisitionDate.label(class="form-label") }}
        {{ form.acquisitionDate(class="form-control", size=32) }}
      </div>
      <div class="form-group">
        {{ form.keywords.label(class="form-label") }}
        {{ form.keywords(class="form-control", size=32) }}
      </div>
      <div class="form-group submit">
        {{ form.submit(class="btn btn-primary", type="submit") }}
      </div>
    </form>
  </div>

  <div class="container">
    <!-- <table>
      <thead>
          <tr>
              <th>ID</th>
              <th>Nome do Livro</th>
              <th>Autor</th>
              <th>Editora</th>
              <th>Quantidade Total</th>
              <th>Quantidade Disponível</th>
          </tr>
      </thead>
      <tbody>
          {% for livro, quantidadeDisponivel in livros %}
          <tr>
              <td>{{ livro.bookId }}</td>
              <td>{{ livro.bookName }}</td>
              <td>{{ livro.authorName }}</td>
              <td>{{ livro.publisherName }}</td>
              <td>{{ livro.amount }}</td>
              <td>{{ quantidadeDisponivel }}</td>
          </tr>
          {% endfor %}
      </tbody>
  </table> -->



    {% for livro, quantidadeDisponivel  in livros %}
      <div class="objectItem">
        <div class="mainContent">
          <div class="bookId">
            <h5>ID:</h5>
            {{ livro.bookId }}
          </div>
          <div class="bookName">
            <h5>Nome:</h5>
            {{ livro.bookName }}
          </div>
          <div class="amount">
            <h5>Disponível:</h5>
            {{ quantidadeDisponivel }} de {{ livro.amount }}
          </div>
          <div class="authorName">
            <h5>Autor:</h5>
            {{ livro.authorName }}
          </div>
          <div class="publisherName">
            <h5>Editora:</h5>
            {{ livro.publisherName }}
          </div>
          <div class="publishedDate">
            <h5>Lançamento:</h5>
            {{ livro.publishedDate }}
          </div>
        </div>
        
        <button class="toggleSeeMore" onclick="toggleSeeMore(this)">ver mais</button>
        
        <div class="seeMore" style="display: none;">
          <div class="description">
            <h5>Descrição:</h5>
            <span>{{ livro.description }}</span>
          </div>
          <div class="keyWords">
            <h5>Palavras Chave:</h5>
            <div class="keywordsList">
              {% for kword in livro.keywords %}
                <span class="keyWord">{{ kword.word }}<span>
              {% endfor %}          
            </div>
          </div>
          <div class="acquisitionDate">
            <h5>Aquisição:</h5>
            {{ livro.acquisitionDate }}
          </div>
          <div class="creationDate">
            <h5>Criado em:</h5>
            {{ livro.creationDate }}
          </div>
          <div class="lastUpdate">
            <h5>Última modificação:</h5>
            {{ livro.lastUpdate }}
          </div>
          <div class="createdBy">
            <h5>Criado por:</h5>
            {{ livro.createdBy }}
          </div>
        </div>
      </div>
    {% endfor %}
    </div>
  </div>
  <!-- Renderiza o controle de paginação -->
  <div class="pagination-container">
    {{ pagination.links }}
  </div>
</div>
  
  {% endblock %}